webpackJsonp([5],{"/SP7":function(t,a,e){t.exports=e.p+"static/img/regular.88d5691.jpg"},T9z5:function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",[i("div",{staticClass:"task_detail_wrapper"},[i("div",{staticClass:"new-header"},[i("div",{staticClass:"container cl"},[i("img",{staticStyle:{float:"left"},attrs:{src:e("Xs75")},on:{click:function(a){t.$router.back(-1)}}}),t._v(" "),i("div",{staticClass:"task_detail"},[t._v("任务详情")])])]),t._v(" "),i("div",{staticClass:"task_detail_count"},[i("div",{staticClass:"task_detail_name"},[i("h3",[t._v(t._s(this.detailData.taskName))]),t._v(" "),i("span",[t._v(t._s(this.detailData.taskReward)+"积分")])]),t._v(" "),i("div",{staticClass:"task_detail_derc"},[i("div",{staticClass:"cf task_derc_name",staticStyle:{"border-bottom":"1px solid #e9e9e9",padding:"5px 0"}},[i("h4",{staticStyle:{float:"left"}},[t._v("任务描述")]),i("p",{ref:"copy",staticStyle:{margin:"0",color:"#fff"},attrs:{"data-clipboard-action":"copy","data-clipboard-target":"#success_form_input"},on:{click:t.copyLink}},[t._v("一键复制描述")])]),t._v(" "),i("p",{attrs:{id:"success_form_input"}},[t._v(t._s(this.detailData.taskDescribe))]),t._v(" "),t._l(this.detailData.taskPicList,function(a,e){return i("img",{key:e,staticStyle:{width:"96%",height:"175px"},attrs:{src:"http://vip.31d461.cn/api/"+a,alt:""},on:{click:t.clickTip}})})],2),t._v(" "),this.detailData.applyPicList&&this.detailData.applyPicList.length>0?i("div",{staticClass:"task_detail_derc"},[i("h4",[t._v("完成任务上传图片")]),t._v(" "),t._l(this.detailData.applyPicList,function(a,e){return i("img",{key:e,staticStyle:{width:"96%",height:"175px"},attrs:{src:"http://vip.31d461.cn/api/"+a,alt:""},on:{click:t.clickTip}})})],2):t._e(),t._v(" "),i("div",{staticClass:"task_detail_but"},[i("button",{staticClass:"commom_button",class:{color_red:1!=this.detailData.sourePath&&0!=this.detailData.userTaskRelationStatus&&-2!=this.detailData.userTaskRelationStatus||1==this.detailData.sourePath&&1!=this.detailData.userTaskRelationStatus},on:{click:function(a){t.applyTask()}}},[t._v(t._s(1==this.detailData.sourePath&&1==this.detailData.userTaskRelationStatus?"提交审核":this.detailData.userTaskRelationStatusName))])]),t._v(" "),t._m(0),t._v(" "),i("el-dialog",{staticClass:"task_dialog",attrs:{title:"请选取图片",visible:t.dialogVisible,width:"90%",center:""},on:{"update:visible":function(a){t.dialogVisible=a}}},[i("span",[i("el-upload",{staticClass:"upload_img",attrs:{action:"http://vip.31d461.cn/api/imgUpload/","list-type":"picture-card","on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload,"on-remove":t.handleRemove}},[i("i",{staticClass:"el-icon-plus"})])],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:t.confirm}},[t._v("确 定")])],1)])],1)])])},s=[function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticStyle:{"margin-top":"10px"}},[i("img",{staticStyle:{width:"100%"},attrs:{src:e("/SP7"),alt:""}})])}],r={render:i,staticRenderFns:s};a.a=r},WyyJ:function(t,a,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(a,"__esModule",{value:!0});var s=e("lC5x"),r=i(s),d=e("J0Oq"),o=i(d);e("9rMa");a.default={data:function(){return{detailData:this.$route.query,dialogVisible:!1,dialogImageUrl:"",applyPic:"",imageUrlArr:[],oInput:"",copyBtn:null}},components:{},created:function(){this.detailData.taskPic.indexOf(",")<0&&(this.detailData.taskPicList=[this.detailData.taskPic]),this.detailData.applyPicList&&this.detailData.applyPicList.length>0&&this.detailData.applyPic.indexOf(",")<0&&(this.detailData.applyPicList=[this.detailData.applyPic]),console.log(this.detailData)},mounted:function(){this.copyBtn=new this.clipboard(this.$refs.copy)},computed:{},methods:{clickTip:function(){this.$message({message:"长按图片保存本地!",type:"info",duration:1500})},copyLink:function(){var t=this,a=t.copyBtn;a.on("success",function(){t.$message({message:"复制成功！",type:"success",duration:1500})}),a.on("error",function(){t.$message({message:"复制失败，请手动选择复制！",type:"error",duration:1500})})},beforeAvatarUpload:function(t){var a=t.size/1024/1024<10;return a||this.$message({message:"上传图片大小不能超过 10MB!",type:"error",duration:1500}),a},handleAvatarSuccess:function(t,a){this.imageUrlArr.push(t.data)},handleRemove:function(t,a){var e=this,i=t.response.data;this.imageUrlArr.length<=1?this.imageUrlArr=[]:this.imageUrlArr.forEach(function(t,a){t===i&&e.imageUrlArr.splice(a,1)}),console.log(this.imageUrlArr)},applyTask:function(){var t=this;return(0,o.default)(r.default.mark(function a(){return r.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(1==t.detailData.sourePath||0!==t.detailData.userTaskRelationStatus){a.next=4;break}return a.next=3,t.$store.dispatch("applyTask",{taskId:t.detailData.id});case 3:t.$router.back(-1);case 4:1!=t.detailData.sourePath&&-2===t.detailData.userTaskRelationStatus&&t.$router.push({name:"becomeVip",query:{name:"成为VIP"}}),1==t.detailData.sourePath&&1==t.detailData.userTaskRelationStatus&&(t.dialogVisible=!0);case 6:case"end":return a.stop()}},a,t)}))()},confirm:function(){var t=this;return(0,o.default)(r.default.mark(function a(){var e;return r.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.dialogVisible=!1,e={id:t.detailData.id},t.imageUrlArr&&(e.applyPic=t.imageUrlArr.join()),a.next=5,t.$store.dispatch("submitTask",e);case 5:t.$message({message:"提交成功",type:"success",duration:1500}),t.$router.back(-1);case 7:case"end":return a.stop()}},a,t)}))()}}}},Xs75:function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACAUlEQVRYR+2VT4hOYRTGf4/8T5OSKEWpERlKSVKklLFRsprZyspCsVIkJRZSms2QkpKUrGY3WShkoVFWYzsTDTXCwkpNPTrTHb0+937f+5nvm0vNWd3u+55zfuc55/SKmk0152cR4P9UwPZK4DpwS9KH+cxR2wrY3gM8BnqBnZLeLQiA7aXAReASEN9hCwNgO6qNqqP61LoLYDtadAa4CUTfG617ALY3Ag+BI016PAx8Br4Dn4D3wCtJzp2L0iG0PQDcBtbmBkruTQJ3gTuSvrXy/w3AdiS8B5xs5Zhx/hW4EoVImqm6/wvAdkgdkof0nbS3wHFJU2VBU4BRoL+TmZNYoUa/pDeN8VOA+D4L3ACWdwHkY6yxpOk09h9DaHtHsfO7ugDxXNLhpgBxaHtZMUAXgCUdBjkhaWQuZtO3wPYB4BGwpQKiT9J48ThtBrYBB4FjwO4Kn3FJfVkAhRpr4tUDTpcEnAUoS2R7L3AeGCw53ydpLP5nv4a2o6oHwPokYCXA3B3bocgTYEPid1XS5bYACjXWAfdjr4tgLQEKv63AC2BT4fdS0qG2AZKqTgFDwP6qFjTKbns78BroASYkBVR+C0oCxrpOS/qSuyW2YwWfAT8krZoXQG7SEvBrwDlJq+sCWAGMSZpd0+wt+NuKK1b0qKSntQGkULUosAjwTynwE1LblSFW7OQ5AAAAAElFTkSuQmCC"},ZPvU:function(t,a,e){"use strict";function i(t){e("nKti")}Object.defineProperty(a,"__esModule",{value:!0});var s=e("WyyJ"),r=e.n(s);for(var d in s)"default"!==d&&function(t){e.d(a,t,function(){return s[t]})}(d);var o=e("T9z5"),n=e("C7Lr"),c=i,l=n(r.a,o.a,!1,c,"data-v-3d64c250",null);a.default=l.exports},lLWK:function(t,a,e){a=t.exports=e("UTlt")(!1),a.push([t.i,".new-header[data-v-3d64c250]{background:#fe4b1c;height:60px;background-size:cover;overflow:hidden;box-sizing:border-box;padding-top:15px;position:fixed;top:0;left:0;width:100%;z-index:10;padding-top:12px}.task_detail[data-v-3d64c250]{text-align:center;font-size:20px;line-height:36px;height:36px;color:#fff}.container[data-v-3d64c250]{width:96%;margin:0 auto;padding:0}.task_detail_count[data-v-3d64c250]{width:100%;margin-top:60px;background:#fff;padding:0 2% 30px}.task_detail_name[data-v-3d64c250]{height:60px;padding:10px 0}.task_detail_name p[data-v-3d64c250]{font-weight:700}.task_detail_derc h4[data-v-3d64c250]{color:#fe4b1c}.task_detail_derc p[data-v-3d64c250]{margin:10px 0}.task_derc_name[data-v-3d64c250]{border-bottom:1px solid #e9e9e9;padding:5px 0}.task_derc_name h4[data-v-3d64c250]{float:left}.task_derc_name p[data-v-3d64c250]{float:right;padding:5px 10px;background:#fe4b1c;border-radius:5px}.task_detail_but button[data-v-3d64c250]{background:#fe4b1c;color:#fff;width:100%}.task_detail_but .color_red[data-v-3d64c250]{color:#e63512;background:#e9e9e9}.avatar-uploader .el-upload[data-v-3d64c250]{border:1px dashed #d9d9d9;border-radius:6px;cursor:pointer;position:relative;overflow:hidden}.avatar-uploader .el-upload[data-v-3d64c250]:hover{border-color:#409eff}.avatar-uploader-icon[data-v-3d64c250]{border:1px dashed #d9d9d9;font-size:28px;color:#8c939d;width:100px;height:100px;line-height:100px;text-align:center}.avatar[data-v-3d64c250]{width:100px;height:100px;display:block}",""])},nKti:function(t,a,e){var i=e("lLWK");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e("FIqI")("56da6ab4",i,!0,{})}});