webpackJsonp([6],{"+GD1":function(e,t,a){t=e.exports=a("UTlt")(!1),t.push([e.i,".new-header[data-v-81decf8e]{background:#fe4b1c;height:60px;background-size:cover;overflow:hidden;box-sizing:border-box;padding-top:15px;position:fixed;top:0;left:0;width:100%;z-index:10;padding-top:12px}.container[data-v-81decf8e]{width:96%;margin:0 auto;padding:0}.input-group[data-v-81decf8e]{width:65%;position:relative;float:left;border-collapse:separate;margin-left:.5rem}.input-group input[data-v-81decf8e]{background:#fff;border-radius:15px;border:none;height:36px;width:100%;text-indent:20px;font-size:14px}.input-group img[data-v-81decf8e]{position:absolute;top:8px;right:12px;cursor:pointer;width:20px;height:20px}.task_generalt_count[data-v-81decf8e]{width:100%;margin-top:60px}.task_generalt_count ul li[data-v-81decf8e]{background:#fff;float:left;width:100%;height:70px;padding:0 2%;box-sizing:border-box;border-bottom:1px solid #e9e9e9}.task_generalt_count ul li p[data-v-81decf8e]{float:left;width:calc(96% - 80px);margin-top:12px}.task_generalt_count ul li p span[data-v-81decf8e]{display:block;font-weight:700;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.task_generalt_count .color_green[data-v-81decf8e]{float:right;color:#7caf0f}.task_generalt_count .color_red[data-v-81decf8e]{float:right;color:#e63512}.avatar-uploader .el-upload[data-v-81decf8e]{border:1px dashed #d9d9d9;border-radius:6px;cursor:pointer;position:relative;overflow:hidden}.avatar-uploader .el-upload[data-v-81decf8e]:hover{border-color:#409eff}.avatar-uploader-icon[data-v-81decf8e]{border:1px dashed #d9d9d9;font-size:28px;color:#8c939d;width:100px;height:100px;line-height:100px;text-align:center}.avatar[data-v-81decf8e]{width:100px;height:100px;display:block}",""])},LheC:function(e,t,a){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("lC5x"),s=o(r),i=a("J0Oq"),n=o(i),d=a("4YfN"),l=o(d),c=a("9rMa");t.default={data:function(){return{pageindex:1,keyword:"",status:!0,dialogVisible:!1,dialogImageUrl:"",applyPic:"",seleteData:"",imageUrlArr:[]}},components:{},created:function(){this.myTaskList()},mounted:function(){var e=this;window.addEventListener("scroll",function(){(document.documentElement.scrollTop||document.body.scrollTop)+(document.documentElement.clientHeight||document.body.clientHeight)>=(document.documentElement.scrollHeight||document.body.scrollHeight)&&e.taskLoadingBol&&(e.pageindex++,e.myTaskList())})},computed:(0,l.default)({},(0,c.mapGetters)(["taskList","taskLoadingMore","taskLoadingBol"])),methods:{beforeAvatarUpload:function(e){var t=e.size/1024/1024<10;return t||this.$message({message:"上传图片大小不能超过 10MB!",type:"error",duration:1500}),t},handleAvatarSuccess:function(e,t){this.imageUrlArr.push(e.data)},handleRemove:function(e,t){var a=this,o=e.response.data;this.imageUrlArr.length<=1?this.imageUrlArr=[]:this.imageUrlArr.forEach(function(e,t){e===o&&a.imageUrlArr.splice(t,1)}),console.log(this.imageUrlArr)},myTaskList:function(){var e=this;return(0,n.default)(s.default.mark(function t(){var a;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={taskType:e.$route.params.taskType,current:e.pageindex},e.keyword&&(a.taskName=e.keyword),t.next=4,e.$store.dispatch("myTaskList",a);case 4:case"end":return t.stop()}},t,e)}))()},getTaskDetail:function(e){e.sourePath=1,this.$router.push({name:"taskDetail",query:e})},applyTask:function(e){var t=this;return(0,n.default)(s.default.mark(function a(){return s.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t.seleteData=e,1==e.userTaskRelationStatus&&(t.dialogVisible=!0);case 2:case"end":return a.stop()}},a,t)}))()},confirm:function(){var e=this;return(0,n.default)(s.default.mark(function t(){var a;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.dialogVisible=!1,a={id:e.seleteData.id},e.imageUrlArr&&(a.applyPic=e.imageUrlArr.join()),console.log(a),t.next=6,e.$store.dispatch("submitTask",a);case 6:e.$message({message:"提交成功",type:"success",duration:1500}),e.seleteData.userTaskRelationStatus=2,e.seleteData.userTaskRelationStatusName="待审核";case 9:case"end":return t.stop()}},t,e)}))()}}}},ROEv:function(e,t,a){var o=a("+GD1");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a("FIqI")("97efb29c",o,!0,{})},XnC3:function(e,t,a){"use strict";function o(e){a("ROEv")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("LheC"),s=a.n(r);for(var i in r)"default"!==i&&function(e){a.d(t,e,function(){return r[e]})}(i);var n=a("nPnJ"),d=a("C7Lr"),l=o,c=d(s.a,n.a,!1,l,"data-v-81decf8e",null);t.default=c.exports},Xs75:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACAUlEQVRYR+2VT4hOYRTGf4/8T5OSKEWpERlKSVKklLFRsprZyspCsVIkJRZSms2QkpKUrGY3WShkoVFWYzsTDTXCwkpNPTrTHb0+937f+5nvm0vNWd3u+55zfuc55/SKmk0152cR4P9UwPZK4DpwS9KH+cxR2wrY3gM8BnqBnZLeLQiA7aXAReASEN9hCwNgO6qNqqP61LoLYDtadAa4CUTfG617ALY3Ag+BI016PAx8Br4Dn4D3wCtJzp2L0iG0PQDcBtbmBkruTQJ3gTuSvrXy/w3AdiS8B5xs5Zhx/hW4EoVImqm6/wvAdkgdkof0nbS3wHFJU2VBU4BRoL+TmZNYoUa/pDeN8VOA+D4L3ACWdwHkY6yxpOk09h9DaHtHsfO7ugDxXNLhpgBxaHtZMUAXgCUdBjkhaWQuZtO3wPYB4BGwpQKiT9J48ThtBrYBB4FjwO4Kn3FJfVkAhRpr4tUDTpcEnAUoS2R7L3AeGCw53ydpLP5nv4a2o6oHwPokYCXA3B3bocgTYEPid1XS5bYACjXWAfdjr4tgLQEKv63AC2BT4fdS0qG2AZKqTgFDwP6qFjTKbns78BroASYkBVR+C0oCxrpOS/qSuyW2YwWfAT8krZoXQG7SEvBrwDlJq+sCWAGMSZpd0+wt+NuKK1b0qKSntQGkULUosAjwTynwE1LblSFW7OQ5AAAAAElFTkSuQmCC"},nPnJ:function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"task_generalt_wrapper"},[o("div",{staticClass:"new-header"},[o("div",{staticClass:"container cl"},[o("img",{staticStyle:{float:"left"},attrs:{src:a("Xs75")},on:{click:function(t){e.$router.back(-1)}}}),e._v(" "),o("div",{staticClass:"input-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.keyword,expression:"keyword"}],attrs:{type:"text",placeholder:"请输入任务关键词"},domProps:{value:e.keyword},on:{input:function(t){t.target.composing||(e.keyword=t.target.value)}}}),e._v(" "),o("img",{staticClass:"search-btn",attrs:{src:a("qkWK")},on:{click:function(t){e.pageindex=1,e.myTaskList()}}})])])]),e._v(" "),o("div",{staticClass:"task_generalt_count"},[e.taskList.length>0?o("ul",{staticClass:"cf"},e._l(e.taskList,function(t,a){return o("li",{key:a,on:{click:function(a){e.getTaskDetail(t)}}},[o("p",[o("span",[e._v(e._s(t.taskName))]),e._v(" "),o("em",[e._v(e._s(t.taskReward)+"积分")])]),e._v(" "),o("button",{staticClass:"commom_button",class:{color_green:1==t.userTaskRelationStatus,color_red:1!=t.userTaskRelationStatus},on:{click:function(a){a.stopPropagation(),e.applyTask(t)}}},[e._v(e._s(1==t.userTaskRelationStatus?"提交审核":t.userTaskRelationStatusName))])])})):o("NoneData")],1),e._v(" "),o("el-dialog",{staticClass:"task_dialog",attrs:{title:"请选取图片",visible:e.dialogVisible,width:"90%",center:""},on:{"update:visible":function(t){e.dialogVisible=t}}},[o("span",[o("el-upload",{staticClass:"upload_img",attrs:{action:"http://vip.31d461.cn:8080/api/imgUpload/","list-type":"picture-card","on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload,"on-remove":e.handleRemove}},[o("i",{staticClass:"el-icon-plus"})])],1),e._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")])],1)])],1),e._v(" "),o("Loading",{directives:[{name:"show",rawName:"v-show",value:e.taskLoadingMore,expression:"taskLoadingMore"}]})],1)},r=[],s={render:o,staticRenderFns:r};t.a=s},qkWK:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAbCAYAAACN1PRVAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMTAvMTcvMTf1v1IVAAACjklEQVRIibXWT6hVRRwH8M/cZ6XBIystEE9WGi2ioCTaSJlZltQQ/dGFuFOhIhIiSFoouAhqIbUJhODxoiBIihGCyqh0EYEtkv6QFUoj+NAwsAT7g9NizoVHvPPe9f35bs7lML/zmZkzc+aGUoqulNgswCLcjOtwHkcwFlL+rbOwI2EirMRmGBuxBXe1ty+g1/4+hxHsDSkfmTZWYrMOu3EnvsL7OIY/MYQrsKrtyBBew4sh5fMXhZXYbMMbOIlt+CKkfG6iwhKbFdiOZ9pOxZDyqYGwEpvH8R4OYUNIeWyqnrZ1mzGKA1gfUv6nq22vLbgWe/ANHh4UgpDyW9iEtXh5sra9EAK8gAYbQ8pnB4XGge+o7/bpEpvlndiFR5ZehefwZkj5x4uFxmUHFmBrJ4b1mIcPZwBpO3oY95bYXNKFrcYv+HImWJsPsEJ9JRNit+B3nJ4FbEzdh4u7sIXtdWgWsNI+Z34X9jUux/AsYMP4G2e6sG+xDLfOAvYEfsDxLuxtdcmumYlSYnO1+s38PKT8Rxd2Avuwo8Tmxhl4u9rrvq4GvZBywU78i1eno5TYrFY382hI+VAnBiHl7/A8Hiux2dt+wgaFVuJdXIbXJ2v7/yNmj3psHMRTIeXvJ0EuVY+X3eo+XYhf8WhI+acpsfYhW/AKrlTnfwRH1cNznrphV+FZLMeneBK34WN1Ja4LKR+fEmvBG/AS7sP17e2/1Knq5zOMhJRHx9Xdg4SMB0PKJ6bExhUvwe3qn56b1M/RGRwNKR/uqLkbH6mr/KGQ8s8DYdNNic1afKJO6f19sDdZ0XQTUj6AB3AN9pfYLGWORtZPO6X71VW6dU5G1k9I+SAiluCOOR1ZPyU2y3D6P6g345mjMyQKAAAAAElFTkSuQmCC"}});